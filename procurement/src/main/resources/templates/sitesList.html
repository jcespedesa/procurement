<!DOCTYPE html>
<html  xmlns:th="http://www.thymeleaf.org"> 

	<head>

  		<meta charset="utf-8">
  		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  		
  		<title>Sites</title>
  		
  		<!-- Bootstrap core CSS -->
  		<link rel="stylesheet" th:href="@{/css/bootstrap-4.0.0.min.css}">
  		
		<!-- Custom styles for this template -->
		<link rel="stylesheet" th:href="@{/css/style.css}">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">		
			
		
		<!-- Bootstrap core JavaScript -->
  		<script th:src="@{/js/jquery-3.4.1.min.js}"></script>
  		  
    	<!-- Custom scripts for this template -->
  		<script th:src="@{/js/modalDelete.js}"></script>
		
	</head>

	<body id="page-top">

  <!-- Navigation -->
  		


   		<div class="container">
   		
   			<nav id="hcssmenu">
    			<ul>
        			<li>
           				<form th:action="@{/portal/mainMenu}" method="post">
                            	
	           				<button type="submit" class="btn btn-light">Back</button>	
	           			
	           				<input type="hidden" th:value="${quserId}" name="quserId"> 
	           			
	           			</form>
        			</li>
            		<li>
           				<form th:action="@{/procurement/sites/edit}" method="post">
                            	
	           				<button type="submit" class="btn btn-light">New</button>	
	           			
	           				<input type="hidden" th:value="${quserId}" name="quserId"> 
	           			
	           			</form>
        			</li>
        			<li>
           				<form th:action="@{/procurement/sites/search}" method="post">
                            	
	           				<button type="submit" class="btn btn-light">Search</button>	
	           			
	           				<input type="hidden" th:value="${quserId}" name="quserId"> 
	           			
	           			</form>
        			</li>
            	</ul>
      		</nav>
   			<div class="row" style="color:teal;" th:text="${quser.username} +' ('+ ${quser.role} +')'"></div>
      		<div class="row">
        		<div class="col-6" th:if="${stringSearch==null}">
			          <p class="navbar-brand" style="color:#880000;font-size:15px;">Showing All Sites</p><span th:text="${stringSearch}"></span>
			   	</div>
			   	<div class="col-6" th:unless="${stringSearch==null}">
			          <p class="navbar-brand" style="color:#880000;font-size:15px;">Results searching string: </p><span th:text="${stringSearch}"></span>
			   	</div>
      		</div>
     		
  			<table class="table table-striped table-responsive-md">
  				<thead>
  					<tr>
  						<th style="color:#006400;font-size:12px;">#</th>
  						<th style="color:#006400;font-size:12px;" noWrap>Site-Number</th>
  						<th style="color:#006400;font-size:12px;">Description</th>
  						<th style="color:#006400;font-size:12px;">Address</th>
  						<th style="color:#006400;font-size:12px;">Phone(s)</th>
  						<th style="color:#006400;font-size:12px;">Active</th>
  						<th style="color:#006400;font-size:12px;" noWrap>Provider-1</th>
  						<th style="color:#006400;font-size:12px;" noWrap>Provider-2</th>
  						<th style="color:#006400;font-size:12px;">Edit</th>
  						<th style="color:#006400;font-size:12px;">Delete</th>
  					</tr>
  				</thead>
  				<tbody>
  					<tr th:each="site,itemNum : ${sites}">
  						<td th:text="${itemNum.count}" style="font-size:12px;"></td>
  						<td th:text="${site.siteNumber}" style="font-size:12px;"></td>
  						<td th:text="${site.sname}" style="font-size:12px;"></td>
  						<td th:text="${site.address}" style="font-size:12px;"></td>
  						<td th:text="${site.phone}" style="font-size:12px;"></td>
  						
  						<td th:if="${site.active}=='Yes'" th:text="${site.active}" style="font-size:12px;"></td>
  						<td th:if="${site.active}=='No'" th:text="${site.active}" style="font-size:12px;background-color: #ffcc99"></td>
  						
  						
  						<td th:text="${site.provider1}" style="font-size:12px;" noWrap></td>
  						<td th:text="${site.provider2}" style="font-size:12px;" noWrap></td>
  						  							
  						<td>
                           	<form th:action="@{/procurement/sites/edit}" method="post">
                            	
	           			        	<button type="submit" class="btn btn-primary fa fa-edit btn-sm"></button>	
	           			
	           						<input type="hidden" th:value="${site.siteid}" name="id"> 
	           						<input type="hidden" th:value="${quserId}" name="quserId"> 
	           						
	           					</form>
                            </td>
                            <td>
                               <form th:action="@{/procurement/sites/delete}" method="post" onClick="return confirmDelete();">
                            	
	           			        	<button type="submit" class="btn btn-danger fa fa-trash btn-sm"></button>	
	           			
	           						<input type="hidden" th:value="${site.siteid}" name="id"> 
	           						<input type="hidden" th:value="${quserId}" name="quserId"> 
	           						
	           					</form>
                        	</td>
                                                                                   
  						</tr>	
  					</tbody>	
  				</table>
  			</div>
  		
  		<!-- Footer -->
  
  		<footer class="customFooter">&copy;TRC Corp</footer> 
  		
 	</body>
</html>			
